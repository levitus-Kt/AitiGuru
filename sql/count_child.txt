SELECT 
    c.name AS category_name,
    COUNT(child.id) AS children_count
FROM categories c
LEFT JOIN categories child 
       ON child.parent_id = c.id
GROUP BY c.id, c.name;